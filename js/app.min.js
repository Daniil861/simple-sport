(()=>{"use strict";let e=!1;setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0),sessionStorage.getItem("preloader")&&(document.querySelector(".preloader")&&document.querySelector(".preloader").classList.add("_hide"),document.querySelector(".wrapper").classList.add("_visible")),sessionStorage.getItem("money")||sessionStorage.setItem("money",5e3),document.querySelector(".check")&&document.querySelectorAll(".check").forEach((e=>{e.textContent=sessionStorage.getItem("money")})),sessionStorage.getItem("hint")||sessionStorage.setItem("hint",0),sessionStorage.getItem("bomb")||sessionStorage.setItem("bomb",0);const t=document.querySelector(".preloader"),o=document.querySelector(".wrapper"),s=document.documentElement.clientHeight;function n(e,t){let o=+sessionStorage.getItem("money");sessionStorage.setItem("money",o-e),setTimeout((()=>{document.querySelectorAll(t).forEach((e=>e.classList.add("_delete-money"))),document.querySelectorAll(t).forEach((e=>e.textContent=sessionStorage.getItem("money")))}),500),setTimeout((()=>{document.querySelectorAll(t).forEach((e=>e.classList.remove("_delete-money")))}),1500)}function m(e){document.querySelectorAll(e).forEach((e=>e.classList.add("_no-money"))),setTimeout((()=>{document.querySelectorAll(e).forEach((e=>e.classList.remove("_no-money")))}),1e3)}function c(e,t){return Math.floor(Math.random()*(t-e)+e)}let r=document.querySelectorAll(".flare");document.querySelector(".flare")&&setInterval((()=>{!function(){let e=c(0,r.length);r.forEach((e=>{e.classList.contains("_active")&&e.classList.remove("_active")})),setTimeout((()=>{r[e].classList.add("_active")}),100)}()}),1e4),document.querySelector(".main")&&document.querySelector(".preloader").classList.contains("_hide")&&document.querySelector(".main").classList.add("_active"),document.querySelector(".main")&&sessionStorage.getItem("show-levels")&&(document.querySelector(".main__content-box").classList.add("_levels"),document.querySelector(".header").classList.add("_btn"),setTimeout((()=>{sessionStorage.removeItem("show-levels")}),100));const l=3e3,i=4e3;if(document.querySelector(".main")&&(document.querySelectorAll(".shop__price")[0].textContent=l,document.querySelectorAll(".shop__price")[1].textContent=i),document.querySelector(".game")){if(sessionStorage.setItem("current-bet",350),document.querySelector(".footer-game__input").value=sessionStorage.getItem("current-bet"),a(),u(),s>600){let e=document.querySelector(".robot"),t=document.querySelector(".ufo");e.setAttribute("width",230),e.setAttribute("height",470),t.setAttribute("width",320),t.setAttribute("height",330)}if(setInterval((()=>{!function(){let e=document.createElement("div");e.classList.add("info-game__image");let t=document.createElement("img"),o=c(1,5);+sessionStorage.getItem("level")>1&&(o=c(1,6));t.setAttribute("src",`img/game/${sessionStorage.getItem("level")}/icon-${o}.png`),e.append(t),e.style.left=`${c(0,85)}%`,document.querySelector(".info-game__ufo").append(e),setTimeout((()=>{e.remove()}),1500)}()}),c(500,1500)),document.querySelector(".footer-game__input")){let e=document.querySelector(".footer-game__input");e.addEventListener("input",(t=>{e.value.length>=4&&(e.value=e.value.substring(0,4)),sessionStorage.setItem("current-bet",+e.value)}))}document.querySelector(".level").textContent=sessionStorage.getItem("level"),document.querySelector(".footer-game__count_hint").textContent=sessionStorage.getItem("hint"),document.querySelector(".footer-game__count_bomb").textContent=sessionStorage.getItem("bomb")}function a(){let e=+sessionStorage.getItem("level");1==e?document.querySelector(".moves").textContent=10:2==e?document.querySelector(".moves").textContent=15:3==e&&(document.querySelector(".moves").textContent=20)}function u(){let e=+sessionStorage.getItem("level");1==e?(document.querySelectorAll(".info-game__goal-icon").forEach((e=>{e.querySelector("img").setAttribute("src","img/game/1/icon-4.svg")})),document.querySelector(".info-game__goal-count_goal").textContent=50,document.querySelector(".info-game__goal-count_complete").textContent=0):2==e?(document.querySelectorAll(".info-game__goal-icon").forEach((e=>{e.querySelector("img").setAttribute("src","img/game/2/icon-4.svg")})),document.querySelector(".info-game__goal-count_goal").textContent=75,document.querySelector(".info-game__goal-count_complete").textContent=0):3==e&&(document.querySelectorAll(".info-game__goal-icon").forEach((e=>{e.querySelector("img").setAttribute("src","img/game/3/icon-4.svg")})),document.querySelector(".info-game__goal-count_goal").textContent=100,document.querySelector(".info-game__goal-count_complete").textContent=0)}let d={countRows:8,countCols:8,offsetBorder:10,gemSize:28,imagesCoin:[1,2,3,4,5],gemClass:"gem",gemClassEmpty:"gem-empty",gemIdPrefix:"gem",gameStates:["pick","switch","revert","remove","refill"],gameState:"",movingItems:0,countScore:0,count_move:0,player_touch:0,state_game_money:0,crystall_cord_x:null,crystall_cord_y:null};s>600&&(d.gemSize=40),s>=800&&(d.gemSize=50);let g={selectedRow:-1,selectedCol:-1,posX:"",posY:""},_={container:document.createElement("div"),content:document.createElement("div"),wrapper:document.createElement("div"),cursor:document.createElement("div"),score:document.createElement("div"),gems:new Array};function S(e,t){d.gameState=d.gameStates[1],g.posX=e,g.posY=t;let o=`gem_${t}_${e}`;document.getElementById(`${o}`)&&!document.getElementById(`${o}`).classList.contains("_hide")&&w()}function f(e){e>=4?e*=2:e>=5?e=2*(e+1):e>=6&&(e*=2*(e+2)),d.countScore+=e,function(e,t,o,s){let n=+sessionStorage.getItem("points")+e;setTimeout((()=>{sessionStorage.setItem("points",n),document.querySelectorAll(t).forEach((e=>e.textContent=sessionStorage.getItem("points"))),document.querySelectorAll(t).forEach((e=>e.classList.add("_anim-add-money")))}),o),setTimeout((()=>{document.querySelectorAll(t).forEach((e=>e.classList.remove("_anim-add-money")))}),s)}(e,".score",500,1500),function(){let e=+document.querySelector(".info-game__goal-count_complete").innerHTML,t=+sessionStorage.getItem("level"),o=+document.querySelector(".moves").innerHTML;(function(){let e=+sessionStorage.getItem("level"),t=document.querySelector(".moves").innerHTML;if(1==e){let e=10-t;e<5?sessionStorage.setItem("coeff",10):6==e?sessionStorage.setItem("coeff",8):7==e?sessionStorage.setItem("coeff",5):8==e?sessionStorage.setItem("coeff",3):9==e?sessionStorage.setItem("coeff",1):10==e&&sessionStorage.setItem("coeff",.01)}else if(2==e){let e=15-t;e<9?sessionStorage.setItem("coeff",10):10==e?sessionStorage.setItem("coeff",8):11==e?sessionStorage.setItem("coeff",5):12==e?sessionStorage.setItem("coeff",3):13==e?sessionStorage.setItem("coeff",1):e>13&&sessionStorage.setItem("coeff",.01)}else if(3==e){let e=20-t;e<13?sessionStorage.setItem("coeff",10):14==e?sessionStorage.setItem("coeff",8):15==e?sessionStorage.setItem("coeff",7):16==e?sessionStorage.setItem("coeff",6):17==e?sessionStorage.setItem("coeff",5):18==e?sessionStorage.setItem("coeff",3):19==e?sessionStorage.setItem("coeff",1):e>20&&sessionStorage.setItem("coeff",.01)}})(),1==t&&o<1&&e<=50?y():1==t&&e>=50&&I();2==t&&o<1&&e<=75?y():2==t&&e>75&&I();3==t&&o<1&&e<=100?y():3==t&&e>100&&I()}()}function y(){document.querySelector(".win__sub-text").textContent="You loose",setTimeout((()=>{document.querySelector(".win").classList.add("_active"),document.querySelector(".win").classList.add("_loose")}),500)}function I(){document.querySelector(".win__sub-text").textContent="You win",document.querySelector(".win__text").textContent=+sessionStorage.getItem("current-bet")*+sessionStorage.getItem("coeff"),setTimeout((()=>{!function(e,t,o,s){let n=Math.floor(+sessionStorage.getItem("money")+e);setTimeout((()=>{sessionStorage.setItem("money",n),document.querySelectorAll(t).forEach((e=>e.textContent=sessionStorage.getItem("money"))),document.querySelectorAll(t).forEach((e=>e.classList.add("_anim-add-money")))}),o),setTimeout((()=>{document.querySelectorAll(t).forEach((e=>e.classList.remove("_anim-add-money")))}),s)}(+sessionStorage.getItem("current-bet")*+sessionStorage.getItem("coeff"),".check",1e3,2e3),document.querySelector(".win").classList.add("_active")}),500)}function v(e,t,o,s,n,m){let c=document.createElement("div");c.classList.add(d.gemClass),c.id=`${d.gemIdPrefix}_${o}_${s}`,c.style.top=`${e}px`,c.style.left=`${t}px`,c.style.backgroundImage=`url('img/game/${n}/icon-${m}.png')`,c.setAttribute("data-number",`${m}`),2==+sessionStorage.getItem("level")?c.style.backgroundSize="80%":3==+sessionStorage.getItem("level")&&(c.style.backgroundSize="70%"),_.wrapper.append(c)}function p(){document.querySelectorAll(".gem").forEach(((e,t)=>{"gem_0_0"==e.id||"gem_0_1"==e.id||"gem_0_6"==e.id||"gem_0_7"==e.id||"gem_1_0"==e.id||"gem_1_7"==e.id||"gem_6_0"==e.id||"gem_6_7"==e.id||"gem_7_0"==e.id||"gem_7_1"==e.id||"gem_7_6"==e.id||"gem_7_7"==e.id?e.classList.add("_hide"):e.classList.contains("_hide")&&e.classList.remove("_hide")}))}function h(){document.querySelectorAll(".gem").forEach(((e,t)=>{"gem_0_0"==e.id||"gem_0_3"==e.id||"gem_0_4"==e.id||"gem_0_7"==e.id||"gem_5_0"==e.id||"gem_5_7"==e.id||"gem_6_0"==e.id||"gem_6_1"==e.id||"gem_6_6"==e.id||"gem_6_7"==e.id||"gem_7_0"==e.id||"gem_7_1"==e.id||"gem_7_2"==e.id||"gem_7_5"==e.id||"gem_7_6"==e.id||"gem_7_7"==e.id?e.classList.add("_hide"):e.classList.contains("_hide")&&e.classList.remove("_hide")}))}function q(e,t){return b(e,t)||L(e,t)}function b(e,t){if(-1!=e&&-1!=t){let o=_.gems[e][t],s=0,n=e;for(;n>0&&_.gems[n-1][t]==o;)s++,n--;for(n=e;n<d.countRows-1&&_.gems[n+1][t]==o;)s++,n++;return s>1}return!1}function L(e,t){if(-1!=e&&-1!=t){let o=_.gems[e][t],s=0,n=t;for(;n>0&&_.gems[e][n-1]==o;)s++,n--;for(n=t;n<d.countCols-1&&_.gems[e][n+1]==o;)s++,n++;return s>1}return!1}function w(){sessionStorage.getItem("level");if(!(g.selectedRow>=0&&g.selectedCol>=0&&g.posY>=0&&g.posX>=0&&g.posY<8&&g.posX<8))return!1;!function(){let e=g.selectedRow-g.posY,t=g.selectedCol-g.posX;document.querySelector("#"+d.gemIdPrefix+"_"+g.selectedRow+"_"+g.selectedCol).classList.add("switch"),document.querySelector("#"+d.gemIdPrefix+"_"+g.selectedRow+"_"+g.selectedCol).setAttribute("dir","-1"),document.querySelector("#"+d.gemIdPrefix+"_"+g.posY+"_"+g.posX).classList.add("switch"),document.querySelector("#"+d.gemIdPrefix+"_"+g.posY+"_"+g.posX).setAttribute("dir","1"),$(".switch").each((function(){d.movingItems++,$(this).animate({left:"+="+t*d.gemSize*$(this).attr("dir"),top:"+="+e*d.gemSize*$(this).attr("dir")},{duration:250,complete:function(){E()}}),$(this).removeClass("switch")})),document.querySelector("#"+d.gemIdPrefix+"_"+g.selectedRow+"_"+g.selectedCol).setAttribute("id","temp"),document.querySelector("#"+d.gemIdPrefix+"_"+g.posY+"_"+g.posX).setAttribute("id",d.gemIdPrefix+"_"+g.selectedRow+"_"+g.selectedCol),document.querySelector("#temp").setAttribute("id",d.gemIdPrefix+"_"+g.posY+"_"+g.posX);let o=_.gems[g.selectedRow][g.selectedCol];_.gems[g.selectedRow][g.selectedCol]=_.gems[g.posY][g.posX],_.gems[g.posY][g.posX]=o}()}function E(){if(d.movingItems--,1==+sessionStorage.getItem("level")?p():2==+sessionStorage.getItem("level")&&h(),0==d.movingItems)switch(d.gameState){case d.gameStates[1]:case d.gameStates[2]:if(q(g.selectedRow,g.selectedCol)||q(g.posY,g.posX)){if(1==d.player_touch){let e=+document.querySelector(".moves").innerHTML;document.querySelector(".moves").textContent=e-1,d.player_touch=0}d.gameState=d.gameStates[3],q(g.selectedRow,g.selectedCol)&&C(g.selectedRow,g.selectedCol),q(g.posY,g.posX)&&C(g.posY,g.posX),A()}else g.selectedRow>=0&&g.selectedCol>=0&&g.posY>=0&&g.posX>=0&&(d.gameState!=d.gameStates[2]?(d.gameState=d.gameStates[2],w()):(d.gameState=d.gameStates[0],g.selectedRow=-1,g.selectedCol=-1));break;case d.gameStates[3]:x();break;case d.gameStates[4]:!function(){let e=0;for(let t=0;t<d.countCols;t++)-1==_.gems[0][t]&&(_.gems[0][t]=Math.floor(4*Math.random()+0),v(0,t*d.gemSize,0,t,+sessionStorage.getItem("level"),d.imagesCoin[_.gems[0][t]]),e++);if(e)d.gameState=d.gameStates[3],x();else{let e=0;for(let t=0;t<d.countRows;t++)for(let o=0;o<d.countCols;o++)o<=d.countCols-3&&_.gems[t][o]==_.gems[t][o+1]&&_.gems[t][o]==_.gems[t][o+2]&&(e++,C(t,o)),t<=d.countRows-3&&_.gems[t][o]==_.gems[t+1][o]&&_.gems[t][o]==_.gems[t+2][o]&&(e++,C(t,o));e>0?(d.gameState=d.gameStates[3],A()):(d.gameState=d.gameStates[0],g.selectedRow=-1)}}()}}function C(e,t){let o=_.gems[e][t],s=e;document.querySelector("#"+d.gemIdPrefix+"_"+e+"_"+t).classList.add("remove");let n=document.querySelectorAll(".remove").length;if(b(e,t)){for(;s>0&&_.gems[s-1][t]==o;)document.querySelector("#"+d.gemIdPrefix+"_"+(s-1)+"_"+t).classList.add("remove"),_.gems[s-1][t]=-1,s--,n++;for(s=e;s<d.countRows-1&&_.gems[s+1][t]==o;)document.querySelector("#"+d.gemIdPrefix+"_"+(s+1)+"_"+t).classList.add("remove"),_.gems[s+1][t]=-1,s++,n++}if(L(e,t)){for(s=t;s>0&&_.gems[e][s-1]==o;)document.querySelector("#"+d.gemIdPrefix+"_"+e+"_"+(s-1)).classList.add("remove"),_.gems[e][s-1]=-1,s--,n++;for(s=t;s<d.countCols-1&&_.gems[e][s+1]==o;)document.querySelector("#"+d.gemIdPrefix+"_"+e+"_"+(s+1)).classList.add("remove"),_.gems[e][s+1]=-1,s++,n++}_.gems[e][t]=-1;let m=[];if(document.querySelectorAll(".remove").forEach((e=>{4==e.dataset.number&&m.push(e)})),Array.from(m).some((e=>4==e.dataset.number))){let e=+document.querySelector(".info-game__goal-count_complete").innerHTML;document.querySelector(".info-game__goal-count_complete").textContent=e+m.length}f(n)}function A(){$(".remove").each((function(){d.movingItems++,$(this).animate({opacity:0},{duration:200,complete:function(){$(this).remove(),E()}})}))}function x(){let e=0;for(let t=0;t<d.countCols;t++)for(let o=d.countRows-1;o>0;o--)-1==_.gems[o][t]&&_.gems[o-1][t]>=0&&(document.querySelector("#"+d.gemIdPrefix+"_"+(o-1)+"_"+t).classList.add("fall"),document.querySelector("#"+d.gemIdPrefix+"_"+(o-1)+"_"+t).setAttribute("id",d.gemIdPrefix+"_"+o+"_"+t),_.gems[o][t]=_.gems[o-1][t],_.gems[o-1][t]=-1,e++);$(".fall").each((function(){d.movingItems++,$(this).animate({top:"+="+d.gemSize},{duration:100,complete:function(){$(this).removeClass("fall"),E()}})})),0==e&&(d.gameState=d.gameStates[4],d.movingItems=1,E())}if(document.addEventListener("touchstart",(function(e){let t=e.target;if(d.count_move=0,d.player_touch=1,t.closest(".gem")&&!t.closest("._hide")){document.querySelector(".footer-game__input-box").classList.add("_hide"),1!=d.state_game_money&&(n(+sessionStorage.getItem("current-bet"),".check"),d.state_game_money=1);let o=parseInt(t.getAttribute("id").split("_")[1]),s=parseInt(t.getAttribute("id").split("_")[2]);g.selectedRow=o,g.selectedCol=s,d.crystall_cord_x=e.touches[0].clientX,d.crystall_cord_y=e.touches[0].clientY}}),!1),document.addEventListener("touchend",(function(){setTimeout((()=>{g.selectedRow=-1,g.selectedCol=-1}),500)}),!1),document.addEventListener("touchmove",(function(e){if(d.count_move>=1)return!1;if(e.target.closest(".field__body")){d.count_move++;let t=e.touches[0].clientX,o=e.touches[0].clientY,s=t-d.crystall_cord_x,n=o-d.crystall_cord_y,m=g.selectedRow,c=g.selectedCol;Math.abs(s)>Math.abs(n)?S(s>0?c+1:c-1,m,e.target):S(c,n>0?m+1:m-1,e.target)}}),!1),document.querySelector(".game")&&(document.body.classList.add("_hold"),sessionStorage.setItem("points",0),_.content.classList.add("field__inner"),_.content.style.padding=d.offsetBorder+"px",_.content.style.width=d.gemSize*d.countCols+2*d.offsetBorder+"px",_.content.style.height=d.gemSize*d.countRows+2*d.offsetBorder+"px",document.querySelector(".field__body").append(_.content),_.wrapper.classList.add("field__wrapper"),_.content.append(_.wrapper),function(){for(let e=0;e<d.countRows;e++){_.gems[e]=new Array;for(let t=0;t<d.countCols;t++)_.gems[e][t]=-1}for(let e=0;e<d.countRows;e++)for(let t=0;t<d.countCols;t++){do{1==+sessionStorage.getItem("level")?_.gems[e][t]=Math.floor(4*Math.random()+0):_.gems[e][t]=Math.floor(5*Math.random()+0)}while(q(e,t));1==+sessionStorage.getItem("level")?(v(e*d.gemSize,t*d.gemSize,e,t,+sessionStorage.getItem("level"),d.imagesCoin[_.gems[e][t]]),p()):2==+sessionStorage.getItem("level")?(v(e*d.gemSize,t*d.gemSize,e,t,+sessionStorage.getItem("level"),d.imagesCoin[_.gems[e][t]]),h()):v(e*d.gemSize,t*d.gemSize,e,t,+sessionStorage.getItem("level"),d.imagesCoin[_.gems[e][t]])}}(),d.gameState=d.gameStates[0],d.countScore=0),document.querySelector(".main")||document.querySelector(".game")){const e=new Audio;e.preload="auto",e.src="files/audio_bg.mp3",e.loop=[!0],e.volume=.3,document.addEventListener("click",(t=>{let o=t.target;o.closest(".volume")&&(o.closest(".volume")&&!o.closest(".volume").classList.contains("_hide")?e.volume=0:o.closest(".volume")&&o.closest(".volume").classList.contains("_hide")&&(e.volume=.3,e.play()),o.closest(".volume").classList.toggle("_hide"))}))}document.addEventListener("click",(e=>{let s=e.target,c=+sessionStorage.getItem("money");if(s.closest(".preloader__button")&&(sessionStorage.setItem("preloader",!0),t.classList.add("_hide"),o.classList.add("_visible"),document.querySelector(".main")&&document.querySelector(".preloader").classList.contains("_hide")&&document.querySelector(".main").classList.add("_active")),s.closest(".main__button_levels")&&(document.querySelector(".main__content-box").classList.add("_levels"),document.querySelector(".header").classList.add("_btn")),s.closest(".main__button_shop")&&(document.querySelector(".main__content-box").classList.add("_shop"),document.querySelector(".header").classList.add("_btn")),s.closest(".header__button-home")&&(document.querySelector(".main__content-box").classList.contains("_shop")?document.querySelector(".main__content-box").classList.remove("_shop"):document.querySelector(".main__content-box").classList.contains("_levels")&&document.querySelector(".main__content-box").classList.remove("_levels"),document.querySelector(".header").classList.remove("_btn")),s.closest(".shop__button_hint")&&(c>=l?(sessionStorage.setItem("hint",+sessionStorage.getItem("hint")+1),n(l,".check")):m(".check")),s.closest(".shop__button_bomb")&&(c>=i?(sessionStorage.setItem("bomb",+sessionStorage.getItem("bomb")+1),n(i,".check")):m(".check")),s.closest(".main__level_1")&&sessionStorage.setItem("level",1),s.closest(".main__level_2")&&sessionStorage.setItem("level",2),s.closest(".main__level_3")&&sessionStorage.setItem("level",3),s.closest(".win__button_home")&&sessionStorage.setItem("show-levels",!0),s.closest(".win__button_play")&&(a(),u(),sessionStorage.setItem("points",0),document.querySelector(".score").textContent=sessionStorage.getItem("points"),document.querySelector(".footer-game__input-box").classList.remove("_hide"),document.querySelector(".win").classList.remove("_active"),document.querySelector(".win").classList.contains("_loose")&&document.querySelector(".win").classList.remove("_loose"),d.state_game_money=0),s.closest(".footer-game__button_bomb")&&0!=+sessionStorage.getItem("bomb")&&(sessionStorage.setItem("bomb",+sessionStorage.getItem("bomb")-1),s.closest(".footer-game__button_bomb").classList.add("_anim")),s.closest(".footer-game__button_hint")&&0!=+sessionStorage.getItem("hint")&&(sessionStorage.setItem("hint",+sessionStorage.getItem("hint")-1),s.closest(".footer-game__button_hint").classList.add("_anim")),s.closest(".field__wrapper")&&document.querySelector(".footer-game__button_bomb").classList.contains("_anim")){!function(e){d.movingItems++,document.querySelector(".footer-game__button_bomb").classList.remove("_anim");let t,o,s,n,m,c,r,l,i,a,u,g,_,S,f,y,I=parseInt(e.getAttribute("id").split("_")[1]),v=parseInt(e.getAttribute("id").split("_")[2]);I>0&&I<7&&v>0&&v<7&&(t=I-1,o=v,s=I-1,n=v-1,m=I-1,c=v+1,r=I,l=v-1,i=I,a=v+1,u=I+1,g=v,_=I+1,S=v-1,f=I+1,y=v+1),0==I&&v>0&&v<7&&(r=I,l=v-1,i=I,a=v+1,u=I+1,g=v,_=I+1,S=v-1,f=I+1,y=v+1),0==I&&0==v&&(i=I,a=v+1,u=I+1,g=v,f=I+1,y=v+1),0==I&&7==v&&(r=I,l=v-1,u=I+1,g=v,_=I+1,S=v-1),I>0&&I<7&&0==v&&(i=I,a=v+1,u=I+1,g=v,f=I+1,y=v+1,t=I-1,o=v,m=I-1,c=v+1),I>0&&I<7&&7==v&&(r=I,l=v-1,u=I+1,g=v,_=I+1,S=v-1,t=I-1,o=v,s=I-1,n=v-1),7==I&&v>0&&v<7&&(r=I,l=v-1,i=I,a=v+1,t=I-1,o=v,s=I-1,n=v-1,m=I-1,c=v+1),7==I&&7==v&&(r=I,l=v-1,t=I-1,o=v,s=I-1,n=v-1),document.getElementById(`gem_${I}_${v}`)&&(C(I,v),document.getElementById(`gem_${I}_${v}`).remove()),document.getElementById(`gem_${t}_${o}`)&&(C(t,o),document.getElementById(`gem_${t}_${o}`).remove()),document.getElementById(`gem_${s}_${n}`)&&(C(s,n),document.getElementById(`gem_${s}_${n}`).remove()),document.getElementById(`gem_${m}_${c}`)&&(C(m,c),document.getElementById(`gem_${m}_${c}`).remove()),document.getElementById(`gem_${r}_${l}`)&&(C(r,l),document.getElementById(`gem_${r}_${l}`).remove()),document.getElementById(`gem_${i}_${a}`)&&(C(i,a),document.getElementById(`gem_${i}_${a}`).remove()),document.getElementById(`gem_${u}_${g}`)&&(C(u,g),document.getElementById(`gem_${u}_${g}`).remove()),document.getElementById(`gem_${_}_${S}`)&&(C(_,S),document.getElementById(`gem_${_}_${S}`).remove()),document.getElementById(`gem_${f}_${y}`)&&(C(f,y),document.getElementById(`gem_${f}_${y}`).remove()),d.gameState=d.gameStates[3],E()}(s.closest(".gem")),document.querySelector(".footer-game__count_bomb").textContent=sessionStorage.getItem("bomb")}if(s.closest(".field__wrapper")&&document.querySelector(".footer-game__button_hint").classList.contains("_anim")){!function(e){d.movingItems++,document.querySelector(".footer-game__button_hint").classList.remove("_anim");let t=parseInt(e.getAttribute("id").split("_")[1]);C(t,0),document.getElementById(`gem_${t}_0`).remove(),C(t,1),document.getElementById(`gem_${t}_1`).remove(),C(t,2),document.getElementById(`gem_${t}_2`).remove(),C(t,3),document.getElementById(`gem_${t}_3`).remove(),C(t,4),document.getElementById(`gem_${t}_4`).remove(),C(t,5),document.getElementById(`gem_${t}_5`).remove(),C(t,6),document.getElementById(`gem_${t}_6`).remove(),C(t,7),document.getElementById(`gem_${t}_7`).remove(),d.gameState=d.gameStates[3],E()}(s.closest(".gem")),document.querySelector(".footer-game__count_hint").textContent=sessionStorage.getItem("hint")}s.closest(".game")&&!document.querySelector(".footer-game__input").classList.contains("_hide")&&function(){let e=+sessionStorage.getItem("current-bet"),t=+sessionStorage.getItem("money");t<=0?document.querySelector(".footer-game__input").value=0:e>t&&(document.querySelector(".footer-game__input").value=Math.floor(t/5))}()})),window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)})),window.addEventListener("load",(function(){document.querySelector("body")&&setTimeout((function(){document.querySelector("body").classList.add("_loaded")}),200)}))})();